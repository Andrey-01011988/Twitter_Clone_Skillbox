Настройка в файле `pytest.ini`:

```ini
[pytest]
asyncio_mode = auto
asyncio_default_fixture_loop_scope = module
```

используется для конфигурации поведения `pytest` в контексте асинхронного тестирования с использованием библиотеки `pytest-asyncio`.

### Что делает каждая настройка:

1. **`asyncio_mode = auto`**:
   - Эта настройка позволяет `pytest` автоматически определять, как обрабатывать асинхронные тесты. Когда установлен режим `auto`, `pytest` будет автоматически использовать подходящий режим для выполнения асинхронных функций и тестов. Это упрощает написание тестов, так как вам не нужно вручную указывать, как обрабатывать асинхронные вызовы.

2. **`asyncio_default_fixture_loop_scope = module`**:
   - Эта настройка задает область видимости для циклов событий, используемых в асинхронных фикстурах. Установка значения `module` означает, что цикл событий будет создан один раз на модуль, и все асинхронные фикстуры в этом модуле будут использовать один и тот же цикл событий. Это может быть полезно для оптимизации производительности, так как позволяет избежать повторного создания цикла событий для каждого теста.

### Преимущества использования этих настроек:

- **Упрощение написания тестов**: Автоматическое управление асинхронностью позволяет сосредоточиться на логике тестирования, а не на настройках окружения.
- **Оптимизация производительности**: Использование одного цикла событий для всех тестов в модуле снижает накладные расходы на создание и уничтожение циклов событий, что может ускорить выполнение тестов.

Эти настройки особенно полезны в проектах, где активно используются асинхронные функции и библиотеки, такие как FastAPI или aiohttp.

Citations:
[1] https://habr.com/ru/articles/448796/
[2] https://habr.com/ru/articles/448788/
[3] https://denshub.com/ru/intro-to-testing-pytest/
[4] https://pytest-docs-ru.readthedocs.io/ru/latest/example/pythoncollection.html
[5] https://docs-python.ru/packages/frejmvork-pytest/integratsija-proektom-testov-pytest/