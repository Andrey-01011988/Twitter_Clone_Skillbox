Чтобы добавить пользователя `www-data` в группу `root` или разрешить ему доступ к папкам `static` и `templates` при запуске контейнера с помощью Docker Compose, вы можете использовать несколько подходов. Вот шаги, которые помогут вам это сделать.

### 1. Добавление пользователя в группу root

Вы можете изменить ваш `Dockerfile`, чтобы добавить пользователя `www-data` в группу `root` во время сборки образа. Вот пример:

```dockerfile
# Используем базовый образ
FROM <ваш_базовый_образ>

# Установка необходимых пакетов
RUN apt-get update && apt-get install -y sudo

# Добавление пользователя www-data в группу root
RUN usermod -aG root www-data

# Остальные команды для настройки вашего контейнера
```

### 2. Настройка прав доступа к папкам

Если вы хотите разрешить доступ пользователю `www-data` к папкам `static` и `templates`, вы можете изменить права доступа на эти директории. Это можно сделать в вашем `Dockerfile` следующим образом:

```dockerfile
# Используем базовый образ
FROM <ваш_базовый_образ>

# Установка необходимых пакетов
RUN apt-get update && apt-get install -y sudo

# Изменение прав доступа к папкам
RUN chown -R www-data:www-data /app/static /app/templates
RUN chmod -R 755 /app/static /app/templates

# Остальные команды для настройки вашего контейнера
```

### 3. Пример docker-compose.yml

Вот как может выглядеть ваш файл `docker-compose.yml`, который использует вышеуказанные настройки:

```yaml
version: '3.8'

services:
  client:
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      - ./app:/app
    ports:
      - "8080:80"

  server:
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      - ./app:/app
    ports:
      - "5000:5000"
```

### 4. Пересборка и запуск контейнеров

После внесения изменений в ваш `Dockerfile`, вам нужно пересобрать образы и запустить контейнеры:

```bash
docker-compose up --build
```

### Заключение

Эти шаги позволят вам добавить пользователя `www-data` в группу `root` и настроить права доступа к нужным директориям при запуске контейнеров с помощью Docker Compose. Если у вас возникнут дополнительные вопросы или потребуется помощь, не стесняйтесь спрашивать!

